# åŒ»ç–—è¶…é€‚åº”ç—‡çŸ¥è¯†å¢å¼ºæ¨ç†ç³»ç»Ÿ

åŸºäºå¤§è¯­è¨€æ¨¡å‹å’Œ Elasticsearch çš„åŒ»ç–—çŸ¥è¯†å›¾è°±ç³»ç»Ÿï¼Œå®ç°æ™ºèƒ½åŒ–è¶…é€‚åº”ç—‡ç”¨è¯åˆ†æã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

- **å®ä½“è¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ ‡å‡†åŒ–è¯å“å’Œç–¾ç—…
- **çŸ¥è¯†å¢å¼º**ï¼šæ•´åˆè¯å“è¯´æ˜ä¹¦å’ŒåŒ»å­¦çŸ¥è¯†
- **å¤šç»´æ¨ç†**ï¼šè§„åˆ™åˆ†æ + LLM æ·±åº¦æ¨ç†
- **é£é™©è¯„ä¼°**ï¼šå®Œæ•´çš„è¯æ®é“¾å’Œå®‰å…¨æ€§åˆ†æ

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
med-graphrag/
â”œâ”€â”€ app/                    # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ api/               # REST API
â”‚   â””â”€â”€ src/               # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ deployments/           # éƒ¨ç½²é…ç½®
â”œâ”€â”€ services/              # åŸºç¡€è®¾æ–½ï¼ˆES, PostgreSQLï¼‰
â”œâ”€â”€ tests/                 # æµ‹è¯•
â”œâ”€â”€ examples/              # ç¤ºä¾‹ç—…ä¾‹
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ Makefile              # è¿ç»´å‘½ä»¤ â­
â””â”€â”€ docker-compose.yml    # æœåŠ¡ç¼–æ’ â­
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒé…ç½®

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .envï¼Œé…ç½®å¿…éœ€çš„ API Keys
# HF_API_KEY=your_key
# OPENROUTER_API_KEY=your_key
```

### 2. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆAPI + Elasticsearch + Kibanaï¼‰
make all up

# æˆ–å•ç‹¬å¯åŠ¨
make es up          # Elasticsearch
make api up         # API æœåŠ¡
```

### 3. è®¿é—®æœåŠ¡

- **API æ–‡æ¡£**: http://localhost:8000/docs
- **API æœåŠ¡**: http://localhost:8000
- **Elasticsearch**: http://localhost:9200
- **Kibana**: http://localhost:5601

## ğŸ“– ä½¿ç”¨è¯´æ˜

### Makefile å‘½ä»¤

```bash
make help           # æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤

# æœåŠ¡ç®¡ç†ï¼ˆæ ¼å¼: make <service> <action>ï¼‰
make es up          # å¯åŠ¨ Elasticsearch
make api up         # å¯åŠ¨ API
make all up         # å¯åŠ¨æ‰€æœ‰æœåŠ¡
make es status      # æŸ¥çœ‹çŠ¶æ€
make es logs        # æŸ¥çœ‹æ—¥å¿—
make es down        # åœæ­¢æœåŠ¡

# åŸºç¡€å‘½ä»¤
make setup          # åˆå§‹åŒ–ç¯å¢ƒ
make test           # è¿è¡Œæµ‹è¯•
make clean          # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

### API ä½¿ç”¨ç¤ºä¾‹

```bash
# è¶…é€‚åº”ç—‡åˆ†æ
curl -X POST "http://localhost:8000/api/v1/analyze" \
  -H "Content-Type: application/json" \
  -d '{
    "patient": {
      "age": 65,
      "gender": "ç”·",
      "diagnosis": "å¿ƒåŠ›è¡°ç«­"
    },
    "prescription": {
      "drug_name": "ç¾æ‰˜æ´›å°”ç¼“é‡Šç‰‡",
      "dosage": "47.5mg",
      "frequency": "qd"
    }
  }'
```

## ğŸ” ç³»ç»Ÿæµç¨‹

```
è¾“å…¥ç—…ä¾‹
   â†“
å®ä½“è¯†åˆ«ä¸æ ‡å‡†åŒ–
   â†“
çŸ¥è¯†å›¾è°±å¢å¼º
   â†“
å¤šç»´åº¦åˆ†æï¼ˆè§„åˆ™ + LLMï¼‰
   â†“
ç»“æœç»¼åˆä¸è¾“å‡º
```

## ğŸ’¾ æ•°æ®æ¶æ„

| ç»„ä»¶ | ç”¨é€” | çŠ¶æ€ |
|------|------|------|
| Elasticsearch | å…¨æ–‡æ£€ç´¢å’ŒçŸ¥è¯†å›¾è°± | âœ… ä½¿ç”¨ä¸­ |
| MySQL | åŸå§‹æ•°æ®å¯¼å…¥ | å¯é€‰ |
| PostgreSQL | å‘é‡æ£€ç´¢ | å¾…å®ç° |

## ğŸ“Š ç¤ºä¾‹ç—…ä¾‹

`examples/cases/` åŒ…å«ä¸‰ä¸ªå®Œæ•´ç¤ºä¾‹ï¼š

1. **æ ‡å‡†ç”¨è¯**ï¼šé˜¿å¸åŒ¹æ— â†’ å¿ƒæ¢—é¢„é˜²
2. **åˆç†è¶…é€‚åº”ç—‡**ï¼šç¾æ‰˜æ´›å°” â†’ å¿ƒåŠ›è¡°ç«­
3. **ä¸åˆç†è¶…é€‚åº”ç—‡**ï¼šåˆ©å·´éŸ¦æ— â†’ æ™®é€šæ„Ÿå†’

## ğŸ“š æ–‡æ¡£

- **ç³»ç»Ÿè®¾è®¡**: `docs/ç³»ç»Ÿè®¾è®¡ä¸å®ç°.md`
- **API æ–‡æ¡£**: `app/api/README.md`
- **éƒ¨ç½²æ–‡æ¡£**: `deployments/README.md`

## ğŸ§ª æµ‹è¯•

```bash
make test              # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/          # ç›´æ¥è¿è¡Œ
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License
